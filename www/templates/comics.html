<ion-view title="Comics">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-plus-circled" ng-click="addComicsEntry()"></button>
  </ion-nav-buttons>
  <ion-header-bar class="bar-light bar-subheader">
    <input type="search"
      placeholder="Filter comics..."
      ng-model="search"
      ng-focus="searchFocused = true"
      ng-blur="searchFocused = false"
      ng-change="scrollTop()">
    <button ng-if="search.length"
      class="button button-icon ion-android-close clear-button"
      ng-click="clearSearch()">
    </button>
  </ion-header-bar>
  <ion-content class="has-header" has-bouncing="true">
    <ion-list can-swipe="true">
      <ion-item class="item item-avatar" ng-repeat="item in getComics()" href="#/app/releases/{{item.id}}">

        <span class="comics-icon">{{item.name.charAt(0).toUpperCase()}}</span>

        <h4>{{item.publisher}}</h4>
        <h2>{{item.name}}</h2>
        <p>{{item.series}}</p>
        <!-- todo usare template -->
        <span class="badge badge-assertive">{{getBestRelease($index, item).number}}</span>

        <ion-option-button class="button button-energized icon ion-plus-round"
                           ng-click="showAddRelease($index, item)">
          Add
        </ion-option-button>
        <ion-option-button class="button button-positive icon ion-edit"
                           ng-click="editComicsEntry($index, item)">
          Edit
        </ion-option-button>
        <ion-option-button class="button button-assertive icon ion-trash-a"
                           ng-click="removeComicsEntry($index, item)">
          Del
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
